<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="./css/home_stylesheet.css" rel="stylesheet" type="text/css" />
    <title>Project Hamilton</title>
</head>
<body>
    <div>
        <div>
            <h1>Project Hamilton</h1>
            <div id="seccion_crear_hub">
                <h1>Profesores</h1>
                <div>
                    <p>Crea un hub para tu clase.</p>
                    <p id="hubCode"></p>
                    <button class="button" id="crear_hub" onclick="createHub()">Crear hub</button>
                </div>
                <p></p>
            </div>
            <div id="seccion_unir_hub">
                <h1>Alumnos</h1>
                <p>Conectate al lobby de tu profesor.</p>
                <button class="button" id="unir_hub" onclick="sendToGame()">Unirse</button>
            </div>
            <script>
                var hubCodeContainer = document.getElementById("hubCode");
        
                function createHub(){
                    fetch('/create_lobby', { method: 'POST' })
                        .then((response) => response.json())
                        .then(function (data) {
                            hubCodeContainer.innerHTML = data.code || "";
                        })
                        .then(function (error) {
                            console.error(error);
                        });
                }

                function sendToGame(){
                    window.location.href = "./game/index.html";
                }
            </script>
        </div>
    </div>
</body>
</html>
